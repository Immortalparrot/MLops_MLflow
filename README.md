# MLflow + Iris Classification Example

## Описание

Этот проект демонстрирует, как использовать MLflow для отслеживания экспериментов машинного обучения на примере задачи классификации ирисов (датасет Iris) с помощью RandomForestClassifier. В проекте реализована интеграция с CI/CD через GitHub Actions и поддержка запуска в Docker.

## Структура проекта

- `train.py` — обучение модели, логирование параметров, метрик и самой модели в MLflow.
- `requirements.txt` — список зависимостей.
- `tests/test_model.py` — базовый тест для проверки корректности обучения модели.
- `.github/workflows/mlflow-ci.yml` — автоматизация CI/CD: установка зависимостей, запуск MLflow, обучение и тесты.
- `Dockerfile` — сборка контейнера для MLflow и обучения.
- `docker-compose.yml` — одновременный запуск MLflow и обучения.

## Как запустить проект

### Обычный запуск (без Docker)

1. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```
2. Запустите MLflow сервер:
    ```bash
    mlflow server --host 0.0.0.0 --port 5001
    ```
3. В новом терминале обучите модель:
    ```bash
    python train.py
    ```
4. Откройте браузер и перейдите по адресу [http://localhost:5001](http://localhost:5001), чтобы увидеть результаты экспериментов.

### Запуск через Docker

1. Соберите образ:
    ```bash
    docker build -t mlflow-iris .
    ```
2. Запустите MLflow сервер:
    ```bash
    docker run -p 5001:5001 mlflow-iris
    ```
3. В другом терминале обучите модель:
    ```bash
    docker run --network="host" mlflow-iris python train.py
    ```

### Запуск через docker-compose

1. Запустите всё вместе:
    ```bash
    docker-compose up --build
    ```
2. MLflow UI будет доступен на [http://localhost:5001](http://localhost:5001)

## CI/CD

В проекте настроен GitHub Actions workflow, который автоматически:
- Устанавливает зависимости
- Запускает MLflow сервер
- Обучает модель
- Запускает тесты

## Пример результата

Скриншот интерфейса MLflow после запуска эксперимента:

(Вставьте сюда ваш скриншот или используйте ![MLflow UI](./mlflow_example.png))

## Возможные доработки

- Добавить другие модели или датасеты
- Использовать MLflow Model Registry для управления версиями моделей
- Автоматизировать деплой модели

## Почему MLflow полезен

- Позволяет отслеживать параметры, метрики и артефакты экспериментов
- Обеспечивает воспроизводимость и прозрачность ML-процессов
- Упрощает командную работу и автоматизацию через CI/CD

---

**Автор:**
ФИО, контакты (по желанию) 